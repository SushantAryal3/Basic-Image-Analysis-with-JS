<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Interactive RGB Threshold Mask</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/ion-rangeslider@2.3.1/css/ion.rangeSlider.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ion-rangeslider@2.3.1/js/ion.rangeSlider.min.js"></script>
  </head>
  <body>
    <h3>Upload Image</h3>
    <input type="file" id="upload" accept="image/*" />
    <label for="colorSpace">Color Space:</label>
    <select id="colorSpace">
      <option value="RGB" selected>RGB</option>
      <option value="HSV">HSV</option>
    </select>
    <div id="rgbSliders" class="sliders">
      <div>
        <label>Red: <span id="rangeRVal"></span></label>
        <input id="rangeR" type="text" name="rangeR" />
      </div>
      <div>
        <label>Green: <span id="rangeGVal"></span></label>
        <input id="rangeG" type="text" name="rangeG" />
      </div>
      <div>
        <label>Blue: <span id="rangeBVal"></span></label>
        <input id="rangeB" type="text" name="rangeB" />
      </div>
    </div>
    <div id="hsvSliders" class="sliders" style="display: none">
      <div>
        <label>Hue: <span id="rangeHVal"></span></label>
        <input id="rangeH" type="text" />
      </div>
      <div>
        <label>Saturation: <span id="rangeSVal"></span></label>
        <input id="rangeS" type="text" />
      </div>
      <div>
        <label>Value: <span id="rangeVVal"></span></label>
        <input id="rangeV" type="text" />
      </div>
    </div>

    <div class="canvases">
      <canvas id="originalCanvas"></canvas>

      <div class="canvas-wrapper">
        <canvas id="maskedCanvas"></canvas>
        <button id="brushToggle" class="icon-btn" title="Toggle Brush Mode">
          üñå
        </button>
        <button id="downloadBtn" class="icon-btn" title="Download Mask">
          ‚¨áÔ∏è
        </button>
      </div>
    </div>
    <div class="brush-control">
      <label>Brush Size: <span id="brushSizeVal">10</span></label>
      <input type="range" id="brushSize" min="2" max="100" value="10" />
    </div>
    <button onclick="saveSettings()">Save Current Settings</button>

    <div id="savedSettings" style="margin-top: 20px">
      <h4>Saved RGB Settings:</h4>
      <table id="settingsTableRGB" border="1" cellspacing="0" cellpadding="5">
        <thead>
          <tr>
            <th>Image Name</th>
            <th>Red</th>
            <th>Green</th>
            <th>Blue</th>
            <th>Apply</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <h4 style="margin-top: 20px">Saved HSV Settings:</h4>
      <table id="settingsTableHSV" border="1" cellspacing="0" cellpadding="5">
        <thead>
          <tr>
            <th>Image Name</th>
            <th>Hue</th>
            <th>Saturation</th>
            <th>Value</th>
            <th>Apply</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <script src="script.js"></script>
  </body>
</html>
